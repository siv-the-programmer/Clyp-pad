<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>ClypPad</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700;800;900&family=Geist+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect width='32' height='32' rx='9' fill='%230d0d10'/><path d='M8 16h4M20 16h4M16 8v4M16 20v4' stroke='%234f8fff' stroke-width='2.5' stroke-linecap='round'/><circle cx='16' cy='16' r='3.5' fill='%234f8fff'/></svg>">
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- TOPBAR -->
<header id="topbar">
  <div id="topbar-left">
    <button id="mob-menu-btn" style="display:none">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M2 4h12M2 8h12M2 12h12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
    </button>
    <div class="logo">
      <svg width="22" height="22" viewBox="0 0 22 22" fill="none"><rect width="22" height="22" rx="6" fill="#4f8fff"/><path d="M6 11h3M13 11h3M11 6v3M11 13v3" stroke="#fff" stroke-width="2" stroke-linecap="round"/><circle cx="11" cy="11" r="2" fill="#fff"/></svg>
      <span>Clyp<em>Pad</em></span>
    </div>
    <div id="ws-tabs">
      <button class="ws-tab active" data-ws="0">Board 1</button>
      <button class="ws-tab" data-ws="1">Board 2</button>
    </div>
    <div id="bc-trail"></div>
    <button id="back-btn" style="display:none">
      <svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M10 3L5 8l5 5" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
      Back
    </button>
  </div>
  <div id="topbar-right">
    <div id="zoom-ctrl">
      <button class="zoom-btn" id="tb-zo"><svg width="12" height="12" viewBox="0 0 16 16" fill="none"><path d="M3 8h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg></button>
      <span id="zoom-lbl">100%</span>
      <button class="zoom-btn" id="tb-zi"><svg width="12" height="12" viewBox="0 0 16 16" fill="none"><path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg></button>
    </div>
    <button class="hdr-btn" id="tb-fit" title="Fit all (Ctrl+0)"><svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M2 5V2h3M11 2h3v3M14 11v3h-3M5 14H2v-3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
    <div class="hdr-sep"></div>
    <button class="hdr-btn" id="exp-btn" title="Export board"><svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M8 2v9M5 8l3 3 3-3M2 13h12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
    <button class="hdr-btn" id="imp-btn" title="Import board"><svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M8 11V2M5 5l3-3 3 3M2 13h12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
  </div>
</header>

<!-- LEFT SIDEBAR -->
<aside id="sidebar">
  <div class="sb-section">
    <div class="sb-label">Create</div>
    <button class="sb-btn primary" id="sb-note">
      <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><rect x="2" y="2" width="12" height="12" rx="2.5" stroke="currentColor" stroke-width="1.5"/><path d="M5 8h6M5 5.5h6M5 10.5h3.5" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/></svg>
      Note
    </button>
    <button class="sb-btn" id="sb-sticky">
      <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M2 3a1 1 0 011-1h10a1 1 0 011 1v7l-4 4H3a1 1 0 01-1-1V3z" stroke="currentColor" stroke-width="1.5"/><path d="M10 10v4l4-4h-4z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/></svg>
      Sticky
    </button>
    <button class="sb-btn" id="sb-folder">
      <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M2 5a1 1 0 011-1h3.586a1 1 0 01.707.293l.414.414A1 1 0 008.414 5H13a1 1 0 011 1v6a1 1 0 01-1 1H3a1 1 0 01-1-1V5z" stroke="currentColor" stroke-width="1.5"/></svg>
      Folder
    </button>
    <button class="sb-btn" id="sb-label">
      <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M2 8.5L7.5 3H13v5.5L7.5 14 2 8.5z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/><circle cx="10" cy="6" r="1.3" fill="currentColor"/></svg>
      Label
    </button>
    <button class="sb-btn" id="sb-checklist">
      <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M2 4.5h7M2 8h7M2 11.5h5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/><path d="M11 6l1.5 1.5L15 5" stroke="#2fd17a" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
      Checklist
    </button>
    <button class="sb-btn" id="sb-link">
      <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M6.5 9.5a3.535 3.535 0 005 0l2-2a3.536 3.536 0 00-5-5L7.5 3.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M9.5 6.5a3.535 3.535 0 00-5 0l-2 2a3.536 3.536 0 005 5L8.5 12.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      Link Card
    </button>
  </div>

  <div class="sb-section">
    <div class="sb-label">Media</div>
    <button class="sb-btn" id="sb-image">
      <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><rect x="1.5" y="3.5" width="13" height="9" rx="2" stroke="currentColor" stroke-width="1.4"/><circle cx="5.5" cy="6.5" r="1.3" stroke="currentColor" stroke-width="1.2"/><path d="M1.5 11l3.5-3 3 3 2.5-2 4 3.5" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg>
      Image / Video
    </button>
    <button class="sb-btn" id="sb-voice">
      <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><rect x="5.5" y="1.5" width="5" height="8" rx="2.5" stroke="currentColor" stroke-width="1.4"/><path d="M2.5 8.5A5.5 5.5 0 008 14a5.5 5.5 0 005.5-5.5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/><path d="M8 14v2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
      Voice Note
    </button>
    <button class="sb-btn" id="sb-shapes">
      <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><rect x="1.5" y="8" width="6" height="6" rx="1.2" stroke="currentColor" stroke-width="1.4"/><path d="M4.5 7L7.5 2l3 5H4.5z" stroke="currentColor" stroke-width="1.3" stroke-linejoin="round"/><circle cx="12" cy="11" r="2.5" stroke="currentColor" stroke-width="1.4"/></svg>
      Shapes
    </button>
  </div>

  <div class="sb-section sb-tpl-section">
    <div class="sb-label">Templates</div>
    <div id="tpl-list"></div>
  </div>

  <div class="sb-footer">
    <button class="sb-foot-btn" id="undo-btn" title="Undo (Ctrl+Z)"><svg width="14" height="14" viewBox="0 0 16 16" fill="none"><path d="M3 7H11a4 4 0 010 8H6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/><path d="M6 4L3 7l3 3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg> Undo</button>
    <button class="sb-foot-btn" id="redo-btn" title="Redo (Ctrl+Shift+Z)"><svg width="14" height="14" viewBox="0 0 16 16" fill="none"><path d="M13 7H5a4 4 0 000 8h5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/><path d="M10 4l3 3-3 3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg> Redo</button>
    <button class="sb-foot-btn danger" id="tb-del" title="Delete selected (Del)"><svg width="14" height="14" viewBox="0 0 16 16" fill="none"><path d="M3 5h10M6 5V3h4v2M7 8v4M9 8v4M4 5l.8 9a1 1 0 001 .9h4.4a1 1 0 001-.9L12 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg> Delete</button>
  </div>
</aside>

<!-- CANVAS -->
<main id="stage">
  <canvas id="grid-cvs"></canvas>
  <div id="world"></div>
</main>

<!-- CONTEXT MENU -->
<div id="ctx">
  <button class="ctx-row" id="ctx-open"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M2 5a1 1 0 011-1h3.586a1 1 0 01.707.293l.414.414A1 1 0 008.414 5H13a1 1 0 011 1v6a1 1 0 01-1 1H3a1 1 0 01-1-1V5z" stroke="currentColor" stroke-width="1.4"/></svg>Open folder</button>
  <button class="ctx-row" id="ctx-edit"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M11.5 2.5a2.121 2.121 0 013 3L5 15H2v-3L11.5 2.5z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/></svg>Edit</button>
  <button class="ctx-row" id="ctx-rename"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 13h10M8 2v9M5 8l3 3 3-3" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>Rename</button>
  <button class="ctx-row" id="ctx-color"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="7" r="4.5" stroke="currentColor" stroke-width="1.4"/><path d="M5.5 13.5h5" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg>Change color</button>
  <button class="ctx-row" id="ctx-copy"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><rect x="5" y="5" width="9" height="9" rx="1.5" stroke="currentColor" stroke-width="1.4"/><path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>Copy text</button>
  <button class="ctx-row" id="ctx-dup"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><rect x="2" y="5" width="9" height="9" rx="1.5" stroke="currentColor" stroke-width="1.4"/><path d="M5 5V3a1 1 0 011-1h7a1 1 0 011 1v7a1 1 0 01-1 1h-2" stroke="currentColor" stroke-width="1.4"/></svg>Duplicate</button>
  <div class="ctx-sep"></div>
  <button class="ctx-row danger" id="ctx-del"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 5h10M6 5V3h4v2M7 8v4M9 8v4M4 5l.8 9a1 1 0 001 .9h4.4a1 1 0 001-.9L12 5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>Delete</button>
</div>

<!-- COLOR PICKER -->
<div id="cpick"><div id="cpick-swatches" class="sw-row"></div></div>

<!-- NOTE EDITOR -->
<div class="mbg" id="ed-bg">
  <div class="mbox" id="ed-modal">
    <div class="mhd">
      <div class="mhd-left">
        <div id="ed-dot"></div>
        <input id="ed-nm" type="text" placeholder="Untitled note" spellcheck="false" autocomplete="off">
      </div>
      <div class="mhd-right">
        <span id="ed-stat"></span>
        <button class="icon-btn" id="ed-cl"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 3l10 10M13 3L3 13" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg></button>
      </div>
    </div>
    <div id="ed-format-bar">
      <button class="fmt-btn" data-fmt="bold"><strong>B</strong></button>
      <button class="fmt-btn" data-fmt="italic"><em>I</em></button>
      <button class="fmt-btn" data-fmt="h1">H1</button>
      <button class="fmt-btn" data-fmt="h2">H2</button>
      <button class="fmt-btn" data-fmt="bullet">• List</button>
      <button class="fmt-btn" data-fmt="check">☐ Check</button>
      <button class="fmt-btn" data-fmt="hr">—</button>
      <div style="flex:1"></div>
      <span id="ed-char-count"></span>
    </div>
    <textarea id="ed-ta" placeholder="Start writing…&#10;&#10;Tip: Use **bold**, *italic*, # Heading, - list" spellcheck="false"></textarea>
  </div>
</div>

<!-- TEXT EDIT -->
<div class="mbg" id="txt-bg">
  <div class="mbox" style="max-width:420px">
    <div class="mhd"><div class="mhd-left"><span id="txt-title" class="modal-title">Edit</span></div><div class="mhd-right"><button class="icon-btn" id="txt-cl"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 3l10 10M13 3L3 13" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg></button></div></div>
    <div class="mbd"><label class="mlbl">Text</label><textarea class="mta" id="txt-inp" rows="5"></textarea><div id="txt-extra"></div></div>
    <div class="mft"><button class="btn ghost" id="txt-cancel">Cancel</button><button class="btn primary" id="txt-ok">Save</button></div>
  </div>
</div>

<!-- RENAME -->
<div class="mbg" id="rn-bg">
  <div class="mbox" style="max-width:360px">
    <div class="mhd"><div class="mhd-left"><span id="rn-title" class="modal-title">Rename</span></div><div class="mhd-right"><button class="icon-btn" id="rn-cl"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 3l10 10M13 3L3 13" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg></button></div></div>
    <div class="mbd"><label class="mlbl">Name</label><input class="minput" id="rn-inp" type="text" autocomplete="off"></div>
    <div class="mft"><button class="btn ghost" id="rn-cancel">Cancel</button><button class="btn primary" id="rn-ok">Rename</button></div>
  </div>
</div>

<!-- LABEL CREATE -->
<div class="mbg" id="lbl-bg">
  <div class="mbox" style="max-width:400px">
    <div class="mhd"><div class="mhd-left"><span class="modal-title">Add Label</span></div><div class="mhd-right"><button class="icon-btn" id="lbl-cl"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 3l10 10M13 3L3 13" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg></button></div></div>
    <div class="mbd">
      <label class="mlbl">Text</label>
      <input class="minput" id="lbl-inp" type="text" placeholder="Section title, heading…">
      <div class="mrow2">
        <div><label class="mlbl">Size</label><select class="msel" id="lbl-size"><option value="11">XS</option><option value="14">S</option><option value="20" selected>M</option><option value="32">L</option><option value="48">XL</option><option value="72">XXL</option></select></div>
        <div><label class="mlbl">Color</label><select class="msel" id="lbl-color"><option value="#eaeaf0">White</option><option value="#4f8fff">Blue</option><option value="#2fd17a">Green</option><option value="#ffd060">Amber</option><option value="#9b6fff">Purple</option><option value="#ff6eb4">Pink</option><option value="#f05858">Red</option><option value="#6a6a80">Muted</option></select></div>
      </div>
    </div>
    <div class="mft"><button class="btn ghost" id="lbl-cancel">Cancel</button><button class="btn primary" id="lbl-ok">Add Label</button></div>
  </div>
</div>

<!-- STICKY -->
<div class="mbg" id="sty-bg">
  <div class="mbox" style="max-width:400px">
    <div class="mhd"><div class="mhd-left"><span class="modal-title">Sticky Note</span></div><div class="mhd-right"><button class="icon-btn" id="sty-cl"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 3l10 10M13 3L3 13" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg></button></div></div>
    <div class="mbd">
      <label class="mlbl">Text</label>
      <textarea class="mta" id="sty-inp" placeholder="Jot something down…" rows="5"></textarea>
      <label class="mlbl">Color</label>
      <div class="sw-row" id="sty-swatches"></div>
    </div>
    <div class="mft"><button class="btn ghost" id="sty-cancel">Cancel</button><button class="btn primary" id="sty-ok">Add Sticky</button></div>
  </div>
</div>

<!-- CHECKLIST -->
<div class="mbg" id="chk-bg">
  <div class="mbox" style="max-width:400px">
    <div class="mhd"><div class="mhd-left"><span class="modal-title">New Checklist</span></div><div class="mhd-right"><button class="icon-btn" id="chk-cl"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 3l10 10M13 3L3 13" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg></button></div></div>
    <div class="mbd">
      <label class="mlbl">Title</label>
      <input class="minput" id="chk-title" type="text" placeholder="My checklist" autocomplete="off">
      <label class="mlbl" style="margin-top:10px">Items — one per line</label>
      <textarea class="mta" id="chk-items" placeholder="Task one&#10;Task two&#10;Task three" rows="6"></textarea>
    </div>
    <div class="mft"><button class="btn ghost" id="chk-cancel">Cancel</button><button class="btn primary" id="chk-ok">Create</button></div>
  </div>
</div>

<!-- LINK -->
<div class="mbg" id="lnk-bg">
  <div class="mbox" style="max-width:400px">
    <div class="mhd"><div class="mhd-left"><span class="modal-title">Add Link</span></div><div class="mhd-right"><button class="icon-btn" id="lnk-cl"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 3l10 10M13 3L3 13" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg></button></div></div>
    <div class="mbd">
      <label class="mlbl">URL</label>
      <input class="minput" id="lnk-url" type="url" placeholder="https://…">
      <label class="mlbl" style="margin-top:8px">Title</label>
      <input class="minput" id="lnk-title" type="text" placeholder="Link title">
      <label class="mlbl" style="margin-top:8px">Description (optional)</label>
      <input class="minput" id="lnk-desc" type="text" placeholder="Brief description">
    </div>
    <div class="mft"><button class="btn ghost" id="lnk-cancel">Cancel</button><button class="btn primary" id="lnk-ok">Add Link</button></div>
  </div>
</div>

<!-- SHAPE MODAL -->
<div class="mbg" id="shp-bg">
  <div class="mbox" style="max-width:440px">
    <div class="mhd"><div class="mhd-left"><span class="modal-title">Add Shape</span></div><div class="mhd-right"><button class="icon-btn" id="shp-cl"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 3l10 10M13 3L3 13" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg></button></div></div>
    <div class="mbd">
      <label class="mlbl">Shape</label>
      <div id="shp-grid"></div>
      <div class="mrow2">
        <div><label class="mlbl">Fill</label><div class="sw-row" id="shp-fill"></div></div>
        <div><label class="mlbl">Stroke</label><div class="sw-row" id="shp-stroke"></div></div>
      </div>
      <div class="mrow2">
        <div><label class="mlbl">Stroke width</label><select class="msel" id="shp-sw"><option value="1">Hairline</option><option value="2" selected>Normal</option><option value="3.5">Thick</option><option value="6">Heavy</option></select></div>
        <div><label class="mlbl">Initial size</label><select class="msel" id="shp-sz"><option value="80">Small</option><option value="120" selected>Medium</option><option value="200">Large</option><option value="300">Huge</option></select></div>
      </div>
    </div>
    <div class="mft"><button class="btn ghost" id="shp-cancel">Cancel</button><button class="btn primary" id="shp-ok">Add Shape</button></div>
  </div>
</div>

<!-- MEDIA -->
<div class="mbg" id="media-bg">
  <div class="mbox" style="max-width:480px">
    <div class="mhd"><div class="mhd-left"><span id="media-title" class="modal-title">Add Image</span></div><div class="mhd-right"><button class="icon-btn" id="media-cl"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 3l10 10M13 3L3 13" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg></button></div></div>
    <div class="mbd">
      <div id="media-drop">
        <div id="media-drop-icon"><svg width="38" height="38" viewBox="0 0 38 38" fill="none"><rect width="38" height="38" rx="10" fill="rgba(79,143,255,0.1)"/><path d="M19 11v12M13 17l6-6 6 6" stroke="#4f8fff" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/><path d="M10 29h18" stroke="#4f8fff" stroke-width="2.2" stroke-linecap="round"/></svg></div>
        <div id="media-drop-txt">Click to choose or drag a file here</div>
        <div style="font-size:11px;color:var(--sub);margin-top:4px">Images &amp; videos up to 25MB</div>
      </div>
      <div id="media-preview-wrap" style="display:none">
        <img id="img-preview" style="max-width:100%;max-height:240px;border-radius:10px;display:none;object-fit:contain">
        <video id="vid-preview" style="max-width:100%;max-height:240px;border-radius:10px;display:none" controls></video>
      </div>
      <label class="mlbl">Caption (optional)</label>
      <input class="minput" id="media-caption" type="text" placeholder="Add a caption…">
    </div>
    <div class="mft"><button class="btn ghost" id="media-cancel">Cancel</button><button class="btn primary" id="media-ok">Add to Canvas</button></div>
  </div>
</div>

<!-- VOICE -->
<div class="mbg" id="voice-bg">
  <div class="mbox" style="max-width:380px">
    <div class="mhd"><div class="mhd-left"><span class="modal-title">Voice Note</span></div><div class="mhd-right"><button class="icon-btn" id="voice-cl"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 3l10 10M13 3L3 13" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg></button></div></div>
    <div class="mbd">
      <div id="rec-display"><div id="rec-dot"></div><div id="rec-time">0:00</div><div id="rec-hint">Press Record to start</div></div>
      <div id="waveform"></div>
      <div style="display:flex;gap:8px">
        <button class="btn danger" id="rec-btn" style="flex:1"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><rect x="5.5" y="1.5" width="5" height="8" rx="2.5" stroke="currentColor" stroke-width="1.4"/><path d="M2.5 8.5A5.5 5.5 0 008 14a5.5 5.5 0 005.5-5.5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/><path d="M8 14v2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg> Record</button>
        <button class="btn primary" id="rec-add" style="flex:1" disabled>Add to Canvas</button>
      </div>
      <audio id="rec-preview" controls style="width:100%;display:none;border-radius:8px"></audio>
    </div>
  </div>
</div>

<div id="mob-overlay"></div>
<input type="file" id="imp-file" accept=".json" style="display:none">
<input type="file" id="img-file" accept="image/*,video/*" style="display:none">
<div id="toast"></div>
<script src="script.js"></script>
</body>
</html>
